(this["webpackJsonpppl-finder"]=this["webpackJsonpppl-finder"]||[]).push([[0],{130:function(e,n,t){"use strict";t.r(n);var r,i,a,c,o,s,l,d,u,j,b,f,h,x,p,v,O=t(0),m=t.n(O),g=t(11),y=t.n(g),w=t(43),k=t(14),F=t(21),C=t(181),S=t(178),z=t(172),U=t(182),N=t(183),I=t(180),T=t(173),E=t(166),L=t(4),R=function(e){var n=e.size,t=e.color,r=e.thickness,i=e.variant;return Object(L.jsx)(E.a,{size:n,color:t,thickness:r,variant:i})},D=t(170),J=t(89),M=t.n(J),V=t(61),A=t(12),B=t(13),P=B.b.span(r||(r=Object(A.a)(["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.size}),(function(e){return e.bold?"700":"400"})),G=function(e){var n=e.size,t=void 0===n?"14px":n,r=e.children,i=e.bold;return Object(L.jsx)(V.a,{children:Object(L.jsx)(P,{size:t,bold:i,children:r})})},H=B.b.div(i||(i=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  opacity: ",";\n  transition: opacity 0.2s ease-in-out;\n"])),(function(e){return e.isVisible?1:0})),K=B.b.div(a||(a=Object(A.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n  &:hover "," {\n    opacity: 1;\n  }\n"])),H),Y=B.b.div(c||(c=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  max-height: 128px;\n  gap: 2px;\n  overflow: hidden;\n\n  p {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]))),Z=B.b.img(o||(o=Object(A.a)(["\n  border-radius: 45%;\n\n  @media (max-width: 800px) {\n    width: 100px;\n    height: 100px;\n  }\n"]))),q=function(e){var n=e.user,t=e.onFavorite,r=e.isFavorited;return Object(L.jsxs)(K,{children:[Object(L.jsx)(Z,{src:null===n||void 0===n?void 0:n.picture.large,alt:""}),Object(L.jsxs)(Y,{children:[Object(L.jsxs)(G,{size:"22px",bold:!0,children:[null===n||void 0===n?void 0:n.name.title," ",null===n||void 0===n?void 0:n.name.first," ",null===n||void 0===n?void 0:n.name.last]}),Object(L.jsx)(G,{size:"14px",children:null===n||void 0===n?void 0:n.email}),Object(L.jsxs)(G,{size:"14px",children:[null===n||void 0===n?void 0:n.location.street.number," ",null===n||void 0===n?void 0:n.location.street.name]}),Object(L.jsxs)(G,{size:"14px",children:["Country: ",null===n||void 0===n?void 0:n.location.country]})]}),Object(L.jsx)(H,{isVisible:r,children:Object(L.jsx)(D.a,{onClick:t,children:Object(L.jsx)(M.a,{color:"error"})})})]})},Q=[{code:"AU",name:"Australia"},{code:"BR",name:"Brazil"},{code:"CA",name:"Canada"},{code:"CH",name:"Switzerland"},{code:"DE",name:"Germany"},{code:"DK",name:"Denmark"},{code:"ES",name:"Spain"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GB",name:"United Kingdom"},{code:"IE",name:"Ireland"},{code:"IR",name:"Iran"},{code:"NO",name:"Norway"},{code:"NL",name:"Netherlands"},{code:"NZ",name:"New Zealand"},{code:"TR",name:"Turkey"},{code:"US",name:"United State"}],W=t(90),X=t(171),$=B.b.div(s||(s=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 500px;\n  width: 90%;\n"]))),_=B.b.div(l||(l=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n  width: 100%;\n  margin: 0 auto;\n  height: calc(100vh - 270px);\n  margin-block-start: 30px;\n  overflow-y: auto;\n"]))),ee=B.b.div(d||(d=Object(A.a)(["\n  display: flex;\n  justify-content: center;\n"]))),ne=Object(B.b)(X.a)(u||(u=Object(A.a)(["\n  width: 100%;\n\n  .MuiChip-root {\n    margin-right: 5px;\n  }\n"]))),te=function(e){var n=e.selectedCountries,t=e.onChange;return Object(L.jsxs)(ne,{children:[Object(L.jsx)(C.a,{id:"demo-simple-select-label",children:"Filter by country"}),Object(L.jsx)(S.a,{labelId:"demo-simple-select-label",multiple:!0,placeholder:"Select Countries",value:n,onChange:t,input:Object(L.jsx)(z.a,{}),renderValue:function(e){return Object(L.jsx)("div",{children:e.map((function(e){return Object(L.jsx)(U.a,{label:Q.find((function(n){return n.code===e})).name},e)}))})},children:Q.map((function(e){return Object(L.jsxs)(N.a,{value:e.code,children:[Object(L.jsx)(I.a,{checked:n.includes(e.code)}),Object(L.jsx)(T.a,{primary:e.name})]},e.code)}))})]})},re=function(e){var n=e.users,t=e.isLoading,r=e.fetchUsers,i=e.resetUsers,a=e.favorites,c=e.toggleFavorite,o=Object(O.useState)([]),s=Object(F.a)(o,2),l=s[0],d=s[1],u=function(e){var n=e.loading,t=e.onLoadMore,r=Object(W.a)(),i=Object(F.a)(r,2),a=i[0],c=i[1],o=c.rootRef,s=c.isVisible,l=!n&&s;return Object(O.useEffect)((function(){if(l){var e=setTimeout((function(){t()}),100);return function(){clearTimeout(e)}}}),[t,l]),[a,{rootRef:o}]}({loading:t,onLoadMore:function(){return r(l)}}),j=Object(F.a)(u,1)[0];return Object(O.useEffect)((function(){r(l)}),[l]),Object(L.jsxs)($,{children:[Object(L.jsx)(te,{selectedCountries:l,onChange:function(e){var n=e.target.value;d(n),i()}}),Object(L.jsxs)(_,{children:[n.map((function(e,n){return Object(L.jsx)(q,{user:e,isFavorited:!!a.find((function(n){return n.email===e.email})),onFavorite:function(){return c(e)}},n)})),Object(L.jsx)(ee,{ref:j,children:Object(L.jsx)(R,{color:"primary",size:"45px",thickness:6,variant:"indeterminate"})})]})]})},ie=t(46),ae=t.n(ie),ce=t(60),oe=t(67),se=t.n(oe),le=t(94),de=function(e){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(t){return console.log(t),null}},ue=function(e,n){try{window.localStorage.setItem(e,JSON.stringify(n))}catch(t){return console.log(t),null}},je=function(){var e=Object(O.useState)((function(){return de("favorited")||[]})),n=Object(F.a)(e,2),t=n[0],r=n[1];function i(){return(i=Object(ce.a)(ae.a.mark((function e(n){var i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.find((function(e){return e.id===n.id})),r(i?t.filter((function(e){return e.id!==n.id})):[].concat(Object(le.a)(t),[n]));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.useEffect)((function(){ue("favorited",t)}),[t]),{favorites:t,toggleFavorite:function(e){return i.apply(this,arguments)}}},be=B.b.div(j||(j=Object(A.a)(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n"]))),fe=B.b.div(b||(b=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-block-start: 100px;\n"]))),he=function(e){var n=e.children;return Object(L.jsx)(be,{children:Object(L.jsx)(fe,{children:n})})},xe=B.b.div(f||(f=Object(A.a)(["\n  display: flex;\n  text-align: center;\n\n  @media (max-width: 800px) {\n    span {\n      font-size: 2rem;\n    }\n  }\n"]))),pe=function(e){var n=e.children;return Object(L.jsx)(xe,{children:Object(L.jsx)(G,{size:"64px",bold:!0,children:n})})},ve=function(e){var n=function(){var e=Object(O.useState)([]),n=Object(F.a)(e,2),t=n[0],r=n[1],i=Object(O.useState)(1),a=Object(F.a)(i,2),c=a[0],o=a[1],s=Object(O.useState)(!1),l=Object(F.a)(s,2),d=l[0],u=l[1];function j(){return(j=Object(ce.a)(ae.a.mark((function e(){var n,i,a=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:[],a.length>1&&void 0!==a[1]&&a[1],u(!0),e.next=5,se.a.get("https://randomuser.me/api/?results=15&page=".concat(c,"^=&nat=").concat(n.join(",")));case 5:i=e.sent,u(!1),r(t.concat(i.data.results)),o(c+1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{users:t,isLoading:d,fetchUsers:function(){return j.apply(this,arguments)},resetUsers:function(){r([]),o(1)}}}(),t=n.users,r=n.isLoading,i=n.fetchUsers,a=n.resetUsers,c=je(),o=c.favorites,s=c.toggleFavorite;return Object(L.jsxs)(he,{children:[Object(L.jsx)(pe,{children:"PplFinder"}),Object(L.jsx)(re,{users:t,isLoading:r,fetchUsers:i,resetUsers:a,favorites:o,toggleFavorite:s})]})},Oe=m.a.memo(ve),me=B.b.div(h||(h=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 500px;\n  width: 90%;\n"]))),ge=B.b.div(x||(x=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n  width: 100%;\n  margin: 0 auto;\n  height: calc(100vh - 270px);\n  margin-block-start: 30px;\n  overflow-y: auto;\n"]))),ye=B.b.div(p||(p=Object(A.a)(["\n  font-size: 2rem;\n  font-style: italic;\n  text-align: center;\n  opacity: 0.5;\n"]))),we=function(e){var n=e.favorites,t=e.toggleFavorite;return Object(L.jsx)(me,{children:Object(L.jsx)(ge,{children:n.length?n.map((function(e,n){return Object(L.jsx)(q,{user:e,isFavorited:!0,onFavorite:function(){return t(e)}},n)})):Object(L.jsx)(ye,{children:"You don't have any favorites yet."})})})},ke=function(){var e=je(),n=e.favorites,t=e.toggleFavorite;return Object(L.jsxs)(he,{children:[Object(L.jsx)(pe,{children:"Your Favorites"}),Object(L.jsx)(we,{favorites:n,toggleFavorite:t})]})},Fe=t(93),Ce=t(174),Se=t(175),ze="light",Ue="dark",Ne=m.a.createContext(),Ie=Object(B.a)(v||(v=Object(A.a)(["\n    :not(.tox-toolbar)::-webkit-scrollbar {\n      width: 4;\n      background: #f9f9f9;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n      background-clip: padding-box;\n      border: 7px solid transparent;\n    }\n  "])),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.primary.main}));var Te=function(e){var n=e.children,t=Object(O.useState)(Ue),r=Object(F.a)(t,2),i=r[0],a=r[1],c=i===ze?"#545454":"#84ffff",o=m.a.useMemo((function(){return Object(Fe.a)({overrides:{},palette:{type:i,primary:{main:c}}})}),[i]);return Object(L.jsx)(Ne.Provider,{value:{theme:i,setTheme:a},children:Object(L.jsxs)(Ce.a,{theme:o,children:[Object(L.jsx)(Se.a,{}),Object(L.jsx)(Ie,{theme:o}),n]})})},Ee=t(176),Le=t(179),Re=t(177),De=t(91),Je=t.n(De),Me=t(92),Ve=t.n(Me),Ae=function(){var e=Object(O.useState)(0),n=Object(F.a)(e,2),t=(n[0],n[1]),r=Object(k.f)().pathname,i=function(){var e=m.a.useContext(Ne);if(void 0===e)throw new Error("useTheme must be used within a ThemeContext Provider");return e}(),a=i.theme,c=i.setTheme;return Object(L.jsxs)(Ee.a,{color:"transparent",style:{position:"fixed",top:0,flexDirection:"row",justifyContent:"space-between"},children:[Object(L.jsxs)(Le.a,{value:r,onChange:function(e,n){t(n)},"aria-label":"Navigation",indicatorColor:"primary",textColor:"primary",children:[Object(L.jsx)(Re.a,{label:"Home",value:"/",to:"/",component:w.b}),Object(L.jsx)(Re.a,{label:"Favorites",value:"/favorites",to:"/favorites",component:w.b})]}),Object(L.jsx)(D.a,{"aria-label":"change theme",onClick:function(){return c(a===ze?Ue:ze)},children:a===ze?Object(L.jsx)(Je.a,{}):Object(L.jsx)(Ve.a,{})})]})},Be=function(){return Object(L.jsx)(Te,{children:Object(L.jsxs)(w.a,{children:[Object(L.jsx)(Ae,{}),Object(L.jsxs)(k.c,{children:[Object(L.jsx)(k.a,{exact:!0,path:"/",component:Oe}),Object(L.jsx)(k.a,{path:"/favorites",component:ke})]})]})})};y.a.render(Object(L.jsx)(Be,{}),document.querySelector("#root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.a3e7abb9.chunk.js.map